function writeResponse(t,e,n){e.setHeader("Access-Control-Allow-Origin","*"),e.setHeader("Access-Control-Allow-Methods","GET, POST, OPTIONS, PUT, PATCH, DELETE"),e.writeHead(200,{"Content-Type":"text/html"}),e.end(n||"Hello, Ã©n vagyok a szerver")}function handlePost(t,e){var n="";t.on("data",function(t){n+=t}),t.on("end",function(){console.log(n),fs.writeFileSync("products.json",n)}),writeResponse(t,e)}function handleGet(t,e){writeResponse(t,e)}var http=require("http"),fs=require("fs"),app=http.createServer(function(t,e){switch(t.method.toLowerCase()){case"post":handlePost(t,e);break;case"get":handleGet(t,e);break;default:writeResponse(t,e)}}).listen("3333");console.log("Server run in 3333 port.");